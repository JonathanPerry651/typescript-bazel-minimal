(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{615:(e,t,r)=>{var o=r(8205),l=globalThis,a=r(4577);o.object.extend(proto,a),o.exportSymbol("proto.google.rpc.Status",null,l),proto.google.rpc.Status=function(e){o.Message.initialize(this,e,0,-1,proto.google.rpc.Status.repeatedFields_,null)},o.inherits(proto.google.rpc.Status,o.Message),o.DEBUG&&!COMPILED&&(proto.google.rpc.Status.displayName="proto.google.rpc.Status"),proto.google.rpc.Status.repeatedFields_=[3],o.Message.GENERATE_TO_OBJECT&&(proto.google.rpc.Status.prototype.toObject=function(e){return proto.google.rpc.Status.toObject(e,this)},proto.google.rpc.Status.toObject=function(e,t){var r={code:o.Message.getFieldWithDefault(t,1,0),message:o.Message.getFieldWithDefault(t,2,""),detailsList:o.Message.toObjectList(t.getDetailsList(),a.Any.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.rpc.Status.deserializeBinary=function(e){var t=new o.BinaryReader(e),r=new proto.google.rpc.Status;return proto.google.rpc.Status.deserializeBinaryFromReader(r,t)},proto.google.rpc.Status.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setCode(r);break;case 2:var r=t.readStringRequireUtf8();e.setMessage(r);break;case 3:var r=new a.Any;t.readMessage(r,a.Any.deserializeBinaryFromReader),e.addDetails(r);break;default:t.skipField()}return e},proto.google.rpc.Status.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.google.rpc.Status.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.rpc.Status.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getCode())&&t.writeInt32(1,r),(r=e.getMessage()).length>0&&t.writeString(2,r),(r=e.getDetailsList()).length>0&&t.writeRepeatedMessage(3,r,a.Any.serializeBinaryToWriter)},proto.google.rpc.Status.prototype.getCode=function(){return o.Message.getFieldWithDefault(this,1,0)},proto.google.rpc.Status.prototype.setCode=function(e){return o.Message.setProto3IntField(this,1,e)},proto.google.rpc.Status.prototype.getMessage=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.google.rpc.Status.prototype.setMessage=function(e){return o.Message.setProto3StringField(this,2,e)},proto.google.rpc.Status.prototype.getDetailsList=function(){return o.Message.getRepeatedWrapperField(this,a.Any,3)},proto.google.rpc.Status.prototype.setDetailsList=function(e){return o.Message.setRepeatedWrapperField(this,3,e)},proto.google.rpc.Status.prototype.addDetails=function(e,t){return o.Message.addToRepeatedWrapperField(this,3,e,proto.google.protobuf.Any,t)},proto.google.rpc.Status.prototype.clearDetailsList=function(){return this.setDetailsList([])},o.object.extend(t,proto.google.rpc)},722:(e,t,r)=>{var o=r(8205),l=globalThis;o.exportSymbol("proto.helloworld.HelloReply",null,l),o.exportSymbol("proto.helloworld.HelloRequest",null,l),proto.helloworld.HelloRequest=function(e){o.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.helloworld.HelloRequest,o.Message),o.DEBUG&&!COMPILED&&(proto.helloworld.HelloRequest.displayName="proto.helloworld.HelloRequest"),proto.helloworld.HelloReply=function(e){o.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.helloworld.HelloReply,o.Message),o.DEBUG&&!COMPILED&&(proto.helloworld.HelloReply.displayName="proto.helloworld.HelloReply"),o.Message.GENERATE_TO_OBJECT&&(proto.helloworld.HelloRequest.prototype.toObject=function(e){return proto.helloworld.HelloRequest.toObject(e,this)},proto.helloworld.HelloRequest.toObject=function(e,t){var r={name:o.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.helloworld.HelloRequest.deserializeBinary=function(e){var t=new o.BinaryReader(e),r=new proto.helloworld.HelloRequest;return proto.helloworld.HelloRequest.deserializeBinaryFromReader(r,t)},proto.helloworld.HelloRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readStringRequireUtf8();e.setName(r)}else t.skipField();return e},proto.helloworld.HelloRequest.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.helloworld.HelloRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.helloworld.HelloRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getName()).length>0&&t.writeString(1,r)},proto.helloworld.HelloRequest.prototype.getName=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.helloworld.HelloRequest.prototype.setName=function(e){return o.Message.setProto3StringField(this,1,e)},o.Message.GENERATE_TO_OBJECT&&(proto.helloworld.HelloReply.prototype.toObject=function(e){return proto.helloworld.HelloReply.toObject(e,this)},proto.helloworld.HelloReply.toObject=function(e,t){var r={message:o.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.helloworld.HelloReply.deserializeBinary=function(e){var t=new o.BinaryReader(e),r=new proto.helloworld.HelloReply;return proto.helloworld.HelloReply.deserializeBinaryFromReader(r,t)},proto.helloworld.HelloReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var r=t.readStringRequireUtf8();e.setMessage(r)}else t.skipField();return e},proto.helloworld.HelloReply.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.helloworld.HelloReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.helloworld.HelloReply.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getMessage()).length>0&&t.writeString(1,r)},proto.helloworld.HelloReply.prototype.getMessage=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.helloworld.HelloReply.prototype.setMessage=function(e){return o.Message.setProto3StringField(this,1,e)},o.object.extend(t,proto.helloworld)},1360:(e,t,r)=>{"use strict";var o=r(7906);r.o(o,"CalculatorPromiseClient")&&r.d(t,{CalculatorPromiseClient:function(){return o.CalculatorPromiseClient}}),r.o(o,"SumRequest")&&r.d(t,{SumRequest:function(){return o.SumRequest}});var l=r(4876);r.o(l,"CalculatorPromiseClient")&&r.d(t,{CalculatorPromiseClient:function(){return l.CalculatorPromiseClient}}),r.o(l,"SumRequest")&&r.d(t,{SumRequest:function(){return l.SumRequest}});var a=r(615);r.o(a,"CalculatorPromiseClient")&&r.d(t,{CalculatorPromiseClient:function(){return a.CalculatorPromiseClient}}),r.o(a,"SumRequest")&&r.d(t,{SumRequest:function(){return a.SumRequest}})},4013:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6932)}])},4876:(e,t,r)=>{let o={};o.web=r(231),r(615);let l={};l.calculator=r(7906),l.calculator.CalculatorClient=function(e,t,r){r||(r={}),r.format="binary",this.client_=new o.web.GrpcWebClientBase(r),this.hostname_=e.replace(/\/+$/,"")},l.calculator.CalculatorPromiseClient=function(e,t,r){r||(r={}),r.format="binary",this.client_=new o.web.GrpcWebClientBase(r),this.hostname_=e.replace(/\/+$/,"")};let a=new o.web.MethodDescriptor("/calculator.Calculator/Sum",o.web.MethodType.UNARY,l.calculator.SumRequest,l.calculator.SumReply,function(e){return e.serializeBinary()},l.calculator.SumReply.deserializeBinary);l.calculator.CalculatorClient.prototype.sum=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/calculator.Calculator/Sum",e,t||{},a,r)},l.calculator.CalculatorPromiseClient.prototype.sum=function(e,t){return this.client_.unaryCall(this.hostname_+"/calculator.Calculator/Sum",e,t||{},a)},e.exports=l.calculator},6908:(e,t,r)=>{"use strict";var o=r(722);r.o(o,"GreeterPromiseClient")&&r.d(t,{GreeterPromiseClient:function(){return o.GreeterPromiseClient}}),r.o(o,"HelloRequest")&&r.d(t,{HelloRequest:function(){return o.HelloRequest}});var l=r(9084);r.o(l,"GreeterPromiseClient")&&r.d(t,{GreeterPromiseClient:function(){return l.GreeterPromiseClient}}),r.o(l,"HelloRequest")&&r.d(t,{HelloRequest:function(){return l.HelloRequest}})},6932:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(3268),l=r(4024),a=r(6908),s=r(1360);let i="http://localhost:8080/application/grpc-web";class n{constructor(e){this.target=e}intercept(e,t){return e.getMetadata()["x-backend-target"]=this.target,t(e)}}class u extends a.GreeterPromiseClient{constructor(e){super(e,null,{unaryInterceptors:[new n("greeter")]})}}class c extends s.CalculatorPromiseClient{constructor(e){super(e,null,{unaryInterceptors:[new n("calculator")]})}}let p=new u(i),d=new c(i);class g{async sayHello(){let e=new a.HelloRequest;e.setName("World");try{let t=await p.sayHello(e,{});return"Response: "+t.getMessage()}catch(e){return console.error(e),"Error: "+e.message}}async doSum(e,t){let r=new s.SumRequest;r.setA(e),r.setB(t);try{let e=await d.sum(r,{});return"Sum Result: "+e.getResult()}catch(e){return console.error(e),"Calc Error: "+e.message}}}let y=new g,h=()=>{let[e,t]=(0,l.useState)([]),r=e=>{console.log(e),t(t=>[...t,e])},a=async()=>{r(await y.sayHello())},s=async()=>{r(await y.doSum(10,20))};return(0,o.jsxs)("div",{style:{padding:"20px",fontFamily:"sans-serif"},children:[(0,o.jsx)("h1",{children:"gRPC React Calculator"}),(0,o.jsx)("p",{children:"Click the buttons to call gRPC backends via Envoy"}),(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsx)("button",{onClick:a,style:{marginRight:"10px",padding:"8px 16px"},children:"Say Hello"}),(0,o.jsx)("button",{onClick:s,style:{padding:"8px 16px"},children:"Calculate 10+20"})]}),(0,o.jsxs)("div",{style:{border:"1px solid #ccc",padding:"10px",minHeight:"100px",backgroundColor:"#f9f9f9"},children:[(0,o.jsx)("h3",{children:"Logs:"}),0===e.length?(0,o.jsx)("p",{style:{color:"#888"},children:"No logs yet..."}):(0,o.jsx)("ul",{style:{listStyleType:"none",padding:0},children:e.map((e,t)=>(0,o.jsx)("li",{style:{borderBottom:"1px solid #eee",padding:"4px 0"},children:e},t))})]})]})}},7906:(e,t,r)=>{var o=r(8205),l=globalThis,a=r(615);o.object.extend(proto,a),o.exportSymbol("proto.calculator.SumReply",null,l),o.exportSymbol("proto.calculator.SumRequest",null,l),proto.calculator.SumRequest=function(e){o.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.calculator.SumRequest,o.Message),o.DEBUG&&!COMPILED&&(proto.calculator.SumRequest.displayName="proto.calculator.SumRequest"),proto.calculator.SumReply=function(e){o.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.calculator.SumReply,o.Message),o.DEBUG&&!COMPILED&&(proto.calculator.SumReply.displayName="proto.calculator.SumReply"),o.Message.GENERATE_TO_OBJECT&&(proto.calculator.SumRequest.prototype.toObject=function(e){return proto.calculator.SumRequest.toObject(e,this)},proto.calculator.SumRequest.toObject=function(e,t){var r={a:o.Message.getFieldWithDefault(t,1,0),b:o.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.calculator.SumRequest.deserializeBinary=function(e){var t=new o.BinaryReader(e),r=new proto.calculator.SumRequest;return proto.calculator.SumRequest.deserializeBinaryFromReader(r,t)},proto.calculator.SumRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setA(r);break;case 2:var r=t.readInt32();e.setB(r);break;default:t.skipField()}return e},proto.calculator.SumRequest.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.calculator.SumRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.calculator.SumRequest.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getA())&&t.writeInt32(1,r),0!==(r=e.getB())&&t.writeInt32(2,r)},proto.calculator.SumRequest.prototype.getA=function(){return o.Message.getFieldWithDefault(this,1,0)},proto.calculator.SumRequest.prototype.setA=function(e){return o.Message.setProto3IntField(this,1,e)},proto.calculator.SumRequest.prototype.getB=function(){return o.Message.getFieldWithDefault(this,2,0)},proto.calculator.SumRequest.prototype.setB=function(e){return o.Message.setProto3IntField(this,2,e)},o.Message.GENERATE_TO_OBJECT&&(proto.calculator.SumReply.prototype.toObject=function(e){return proto.calculator.SumReply.toObject(e,this)},proto.calculator.SumReply.toObject=function(e,t){var r,l={result:o.Message.getFieldWithDefault(t,1,0),status:(r=t.getStatus())&&a.Status.toObject(e,r)};return e&&(l.$jspbMessageInstance=t),l}),proto.calculator.SumReply.deserializeBinary=function(e){var t=new o.BinaryReader(e),r=new proto.calculator.SumReply;return proto.calculator.SumReply.deserializeBinaryFromReader(r,t)},proto.calculator.SumReply.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setResult(r);break;case 2:var r=new a.Status;t.readMessage(r,a.Status.deserializeBinaryFromReader),e.setStatus(r);break;default:t.skipField()}return e},proto.calculator.SumReply.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.calculator.SumReply.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.calculator.SumReply.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getResult())&&t.writeInt32(1,r),null!=(r=e.getStatus())&&t.writeMessage(2,r,a.Status.serializeBinaryToWriter)},proto.calculator.SumReply.prototype.getResult=function(){return o.Message.getFieldWithDefault(this,1,0)},proto.calculator.SumReply.prototype.setResult=function(e){return o.Message.setProto3IntField(this,1,e)},proto.calculator.SumReply.prototype.getStatus=function(){return o.Message.getWrapperField(this,a.Status,2)},proto.calculator.SumReply.prototype.setStatus=function(e){return o.Message.setWrapperField(this,2,e)},proto.calculator.SumReply.prototype.clearStatus=function(){return this.setStatus(void 0)},proto.calculator.SumReply.prototype.hasStatus=function(){return null!=o.Message.getField(this,2)},o.object.extend(t,proto.calculator)},9084:(e,t,r)=>{let o={};o.web=r(231);let l={};l.helloworld=r(722),l.helloworld.GreeterClient=function(e,t,r){r||(r={}),r.format="binary",this.client_=new o.web.GrpcWebClientBase(r),this.hostname_=e.replace(/\/+$/,"")},l.helloworld.GreeterPromiseClient=function(e,t,r){r||(r={}),r.format="binary",this.client_=new o.web.GrpcWebClientBase(r),this.hostname_=e.replace(/\/+$/,"")};let a=new o.web.MethodDescriptor("/helloworld.Greeter/SayHello",o.web.MethodType.UNARY,l.helloworld.HelloRequest,l.helloworld.HelloReply,function(e){return e.serializeBinary()},l.helloworld.HelloReply.deserializeBinary);l.helloworld.GreeterClient.prototype.sayHello=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/helloworld.Greeter/SayHello",e,t||{},a,r)},l.helloworld.GreeterPromiseClient.prototype.sayHello=function(e,t){return this.client_.unaryCall(this.hostname_+"/helloworld.Greeter/SayHello",e,t||{},a)},e.exports=l.helloworld}},e=>{e.O(0,[819,807,636,593,792],()=>e(e.s=4013)),_N_E=e.O()}]);